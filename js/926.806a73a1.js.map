{"version":3,"file":"js/926.806a73a1.js","mappings":"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","sources":["webpack://week7/./src/views/AdminOrdersView.vue","webpack://week7/./src/components/OrderPagination.vue","webpack://week7/./src/components/OrderPagination.vue?ce2b","webpack://week7/./src/components/AdminOrdersModal.vue","webpack://week7/./src/components/AdminOrdersModal.vue?a568","webpack://week7/./src/components/AdminDelOrdersModal.vue","webpack://week7/./src/components/AdminDelOrdersModal.vue?ba30","webpack://week7/./src/views/AdminOrdersView.vue?b3da"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <table class=\"table mt-4\">\r\n      <thead>\r\n        <tr>\r\n          <th>購買時間</th>\r\n          <th>Email</th>\r\n          <th>購買款項</th>\r\n          <th>應付金額</th>\r\n          <th>是否付款</th>\r\n          <th>編輯</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <template v-for=\"item in orders\" :key=\"item.id\">\r\n          <tr v-if=\"orders.length\" :class=\"{ 'text-secondary': !item.is_paid }\">\r\n            <td>{{ item.create_at }}</td>\r\n            <td><span v-text=\"item.user.email\" v-if=\"item.user\"></span></td>\r\n            <td>\r\n              <ul class=\"list-unstyled\">\r\n                <li v-for=\"(product, i) in item.products\" :key=\"i\">\r\n                  {{ product.product.title }} 數量：{{ product.qty }}\r\n                  {{ product.product.unit }}\r\n                </li>\r\n              </ul>\r\n            </td>\r\n            <td class=\"text-right\">{{ item.total }}</td>\r\n            <td>\r\n              <div class=\"form-check form-switch\">\r\n                <input\r\n                  class=\"form-check-input\"\r\n                  type=\"checkbox\"\r\n                  :id=\"`paidSwitch${item.id}`\"\r\n                  v-model=\"item.is_paid\"\r\n                  @change=\"updatePaid(item)\"\r\n                />\r\n                <label class=\"form-check-label\" :for=\"`paidSwitch${item.id}`\">\r\n                  <span v-if=\"item.is_paid\">已付款</span>\r\n                  <span v-else>未付款</span>\r\n                </label>\r\n              </div>\r\n            </td>\r\n            <td>\r\n              <div class=\"btn-group\">\r\n                <button\r\n                  class=\"btn btn-outline-primary btn-sm\"\r\n                  type=\"button\"\r\n                  @click=\"openModal(item)\"\r\n                >\r\n                  檢視\r\n                </button>\r\n                <button\r\n                  class=\"btn btn-outline-danger btn-sm\"\r\n                  type=\"button\"\r\n                  @click=\"openDelOrderModal(item)\"\r\n                >\r\n                  刪除\r\n                </button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </template>\r\n      </tbody>\r\n    </table>\r\n    <pagination :pages=\"pagination\" @get-order=\"getOrders\"></pagination>\r\n  </div>\r\n  <order-modal\r\n    :temp-order=\"tempOrder\"\r\n    v-on:get-orders=\"getOrders\"\r\n    ref=\"orderModal\"\r\n  ></order-modal>\r\n  <del-order-modal\r\n    :temp-order=\"tempOrder\"\r\n    v-on:get-orders=\"getOrders\"\r\n    ref=\"delOrderModal\"\r\n  ></del-order-modal>\r\n</template>\r\n\r\n<script>\r\nimport pagination from '@/components/OrderPagination.vue'\r\nimport orderModal from '@/components/AdminOrdersModal.vue'\r\nimport delOrderModal from '@/components/AdminDelOrdersModal.vue'\r\n\r\nexport default {\r\n  components: {\r\n    pagination,\r\n    orderModal,\r\n    delOrderModal\r\n  },\r\n  data () {\r\n    return {\r\n      orders: [],\r\n      tempOrder: {},\r\n      pagination: {}\r\n    }\r\n  },\r\n  methods: {\r\n    checkLogin () {\r\n      const token = document.cookie.replace(\r\n        /(?:(?:^|.*;\\s*)hexToken\\s*\\=\\s*([^;]*).*$)|^.*$/,\r\n        '$1'\r\n      )\r\n      // eslint-disable-next-line dot-notation\r\n      this.$http.defaults.headers.common['Authorization'] = token\r\n      // console.log(token)\r\n\r\n      const url = `${process.env.VUE_APP_API}api/user/check`\r\n      this.$http.post(url).then(() => {\r\n        this.getOrders()\r\n      })\r\n    },\r\n    getOrders (page = 1) {\r\n      // 帶入page這個參數\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders/?page=${page}` // 參數預設值\r\n\r\n      this.$http.get(url).then((res) => {\r\n        this.orders = res.data.orders\r\n        this.pagination = res.data.pagination\r\n      })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    openModal (order) {\r\n      this.tempOrder = { ...order }\r\n      this.$refs.orderModal.bsModal.show()\r\n    },\r\n    openDelOrderModal (order) {\r\n      this.tempOrder = { ...order }\r\n      console.log(this.tempOrder.user.name)\r\n      this.$refs.delOrderModal.bsModal.show()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.checkLogin()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination\">\r\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_pre }\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\">\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li\r\n        class=\"page-item\"\r\n        :class=\"{ active: page === pages.current_page }\"\r\n        v-for=\"page in pages.total_pages\"\r\n        :key=\"page + 'page'\"\r\n      >\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"$emit('get-order', page)\">{{\r\n          page\r\n        }}</a>\r\n      </li>\r\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_next }\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\">\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['pages']\r\n}\r\n</script>\r\n","import { render } from \"./OrderPagination.vue?vue&type=template&id=e67cbc06\"\nimport script from \"./OrderPagination.vue?vue&type=script&lang=js\"\nexport * from \"./OrderPagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\Practice\\\\Vue Live\\\\Week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"orderModal\"\r\n    tabindex=\"-1\"\r\n    role=\"dialog\"\r\n    aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\"\r\n    ref=\"orderModal\"\r\n  >\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-dark text-white\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n            <span>訂單細節</span>\r\n          </h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-4\">\r\n              <h3>用戶資料</h3>\r\n              <table class=\"table\">\r\n                <tbody v-if=\"product.user\">\r\n                  <tr>\r\n                    <th style=\"width: 100px\">姓名</th>\r\n                    <td>{{ product.user.name }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Email</th>\r\n                    <td>{{ product.user.email }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>電話</th>\r\n                    <td>{{ product.user.tel }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>地址</th>\r\n                    <td>{{ product.user.address }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div class=\"col-md-8\">\r\n              <h3>訂單細節</h3>\r\n              <table class=\"table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <th style=\"width: 100px\">訂單編號</th>\r\n                    <td>{{ product.id }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>下單時間</th>\r\n                    <td>{{ product.create_at }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款時間</th>\r\n                    <td>\r\n                      <span v-if=\"product.paid_date\">\r\n                        {{ product.paid_date }}\r\n                      </span>\r\n                      <span v-else>時間不正確</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款狀態</th>\r\n                    <td>\r\n                      <strong v-if=\"product.is_paid\" class=\"text-success\"\r\n                        >已付款</strong\r\n                      >\r\n                      <span v-else class=\"text-muted\">尚未付款</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>總金額</th>\r\n                    <td>\r\n                      {{ product.total }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <h3>選購商品</h3>\r\n              <table class=\"table\">\r\n                <thead>\r\n                  <tr></tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"item in product.products\" :key=\"item.id\">\r\n                    <th>\r\n                      {{ item.product.title }}\r\n                    </th>\r\n                    <td>{{ item.qty }} / {{ item.product.unit }}</td>\r\n                    <td class=\"text-end\">\r\n                      {{ item.final_total }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div class=\"d-flex justify-content-end\">\r\n                <div class=\"form-check\">\r\n                  <input\r\n                    class=\"form-check-input\"\r\n                    type=\"checkbox\"\r\n                    value=\"\"\r\n                    id=\"flexCheckDefault\"\r\n                    v-model=\"product.is_paid\"\r\n                  />\r\n                  <label class=\"form-check-label\" for=\"flexCheckDefault\">\r\n                    <span v-if=\"product.is_paid\">已付款</span>\r\n                    <span v-else>未付款</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-primary\"\r\n            @click=\"updateProduct\"\r\n          >\r\n            修改付款狀態\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n// import modalMixin from '@/mixins/modalMixin'\r\nimport Modal from 'bootstrap/js/dist/modal'\r\n\r\nexport default {\r\n  props: ['tempOrder'],\r\n  template: '#templateForProductModal',\r\n  data () {\r\n    return {\r\n      product: {},\r\n      bsModal: {}\r\n    }\r\n  },\r\n  watch: {\r\n    tempOrder () {\r\n      this.product = this.tempOrder\r\n    }\r\n  },\r\n  methods: {\r\n    updateProduct () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`\r\n\r\n      this.$http.put(url, { data: this.tempOrder }) // 資料的格式要參照api的格式\r\n        .then((res) => {\r\n          console.log(res)\r\n          // this.getProducts();  //沒有get Product (外層方法)\r\n          this.$emit('get-orders')\r\n          this.bsModal.hide()\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.bsModal = new Modal(this.$refs.orderModal)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./AdminOrdersModal.vue?vue&type=template&id=be571238\"\nimport script from \"./AdminOrdersModal.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrdersModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\Practice\\\\Vue Live\\\\Week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div\r\n    id=\"delOrderModal\"\r\n    ref=\"delOrderModal\"\r\n    class=\"modal fade\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"delOrderModalLabel\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-danger text-white\">\r\n          <h5 id=\"delOrderModalLabel\" class=\"modal-title\">\r\n            <span>刪除訂單</span>\r\n          </h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <strong class=\"text-danger\"> 是否刪除此筆訂單(刪除後將無法恢復)。</strong>\r\n          <!-- <strong class=\"text-danger\">此筆訂單</strong> -->\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-danger\" @click=\"delProduct\">\r\n            確認刪除\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\n\r\nexport default {\r\n  props: ['tempOrder'],\r\n  template: '#templateForDelProductModal',\r\n  methods: {\r\n    data () {\r\n      return {\r\n        product: {},\r\n        bsModal: {}\r\n      }\r\n    },\r\n    // watch: {\r\n    //   tempOrder () {\r\n    //     this.product = this.tempOrder\r\n    //   }\r\n    // },\r\n    delProduct () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`\r\n\r\n      this.$http\r\n        .delete(url) // 資料的格式要參照api的格式\r\n        .then((res) => {\r\n          console.log(res)\r\n          // this.getProducts();\r\n          this.$emit('get-orders')\r\n          this.bsModal.hide()\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.bsModal = new Modal(this.$refs.delOrderModal)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./AdminDelOrdersModal.vue?vue&type=template&id=514a271e\"\nimport script from \"./AdminDelOrdersModal.vue?vue&type=script&lang=js\"\nexport * from \"./AdminDelOrdersModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\Practice\\\\Vue Live\\\\Week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AdminOrdersView.vue?vue&type=template&id=2ed9bdde\"\nimport script from \"./AdminOrdersView.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrdersView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\Practice\\\\Vue Live\\\\Week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_3","_createElementBlock","_Fragment","_renderList","$data","item","id","length","is_paid","_toDisplayString","create_at","user","email","products","product","i","key","title","qty","unit","total","type","$event","onChange","_ctx","for","_hoisted_10","_hoisted_11","onClick","$options","_hoisted_13","_hoisted_14","_createVNode","_component_pagination","pages","onGetOrder","_component_order_modal","onGetOrders","ref","_component_del_order_modal","href","_hoisted_6","disabled","$props","has_pre","total_pages","page","active","current_page","_hoisted_5","has_next","props","__exports__","tabindex","role","style","_hoisted_4","_hoisted_8","name","_hoisted_12","tel","address","_hoisted_16","_hoisted_18","_hoisted_19","_hoisted_20","paid_date","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_26","_hoisted_27","_hoisted_29","final_total","value","_hoisted_34","_hoisted_35","_hoisted_37","template","data","bsModal","watch","tempOrder","this","methods","updateProduct","url","$http","put","then","res","console","log","$emit","hide","mounted","Modal","$refs","orderModal","_hoisted_7","delProduct","delete","delOrderModal","components","pagination","orders","checkLogin","token","document","cookie","replace","defaults","headers","common","post","getOrders","get","catch","err","openModal","order","show","openDelOrderModal","render"],"sourceRoot":""}